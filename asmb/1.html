<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تدوين المحادثات - الوضع الداكن</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
        }

        .container {
            max-width: 800px;
            padding: 20px;
            background-color: #1e1e1e;
            margin: 20px;
            box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.5);
            border-radius: 8px;
        }

        h1 {
            text-align: center;
            color: #66c1ff;
            margin-bottom: 20px;
        }

        .chat {
            margin-bottom: 10px;
            padding: 10px;
            border-radius: 5px;
        }

        .chat.user {
            background-color: #2a2a2a;
            text-align: right;
            color: #a5d6a7;
        }

        .chat.assistant {
            background-color: #333;
            /* text-align: left; */

        }

        footer {
            text-align: center;
            font-size: 0.9em;
            color: #888;
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>الموقع، الموقع، الموقع: السجلات، العناوين في الذاكرة، ومعرفة مكان الأشياء</h1>
        <div class="chat user">مقدمه</div>
        <div class="chat assistant">الكاتب كتب الكتاب ده لأنه مش لاقي كتاب مبسط لتعليم لغة التجميع (Assembly) يستحق
            الاحترام من وجهة نظره. أغلب الكتب اللي بتعلم Assembly بتبدأ بتعريف مجموعة التعليمات (Instruction Set) وبتشرح
            كل تعليمات المعالج واحدة واحدة، وده حسب كلامه يعتبر أسلوب "غبي". الكتاب ده بيشوف إن أي حد يتعلم تعليمات
            المعالج مش هيبقى كده اتعلم لغة Assembly، حتى لو عرف كل التعليمات.</div>
        <div class="chat user">نماذج الذاكرة</div>
        <div class="chat assistant" contenteditable="true">
            <div>أولاً، بيشرح المؤلف حاجة اسمها "نماذج الذاكرة" - يعني الطرق المختلفة اللي بتم التعامل بيها مع الذاكرة
                في أجهزة الكمبيوتر، وبالذات في معالجات Intel وAMD. هنلاقي إن في أكتر من نموذج، وكل نموذج ليه استخداماته
                وتاريخه.</div>
            <div><br></div>
            <div>1. **أقدم نموذج:** "الريال مود فلات موديل" أو النموذج المسطح في الوضع الحقيقي. ده كان بيشتغل على أنظمة
                DOS القديمة، يعني النظام كان بيشوف الذاكرة كأنها حاجة مسطحة على بعضها. النموذج ده خلاص بقى زي الأحافير
                لأنه قديم جدًا ومحدش بيستخدمه في العصر الحالي، لكن فهمه بيساعدنا نفهم النماذج الأحدث.</div>
            <div><br></div>
            <div>2.نموذج حقيقي مقسّم: وده نموذج معقد كان برضه في أنظمة DOS، وبصراحة هو يعتبر نموذج معقد جدًا ومزعج لأي
                مبرمج. الفكرة فيه إن الذاكرة كانت متقسمة لقطاعات، وكل قطاع بيشيل جزء من البيانات، وكان الموضوع ده متعب
                جدًا وبيسبب صداع، ومش لازم نتعمق فيه إلا لو حابين نفهم التاريخ.</div>
            <div><br></div>
            <div>3. **النموذج الحديث: الوضع المحمي** - وده النموذج اللي بنستخدمه دلوقتي، وعندنا منه نوعين:&nbsp;</div>
            <div>&nbsp; &nbsp;- **وضع 32-بت** وده اشتغل على الأجهزة زي ويندوز XP، وفينتا.</div>
            <div>&nbsp; &nbsp;- **وضع 64-بت**، وده اللي بيشتغل على الأنظمة الحديثة زي ويندوز 10 ولينكس.</div>
            <div><br></div>
            <div>النموذج المحمي بيعتبر أفضل بكتير لأنه بيضمن حماية أكتر للبيانات، وكمان بيسمح باستخدام الذاكرة بشكل أوسع
                وأسرع.</div>
        </div>
        <div class="chat user">16 بت ستشتري لك 64 كيلوبايت</div>
        <div class="chat assistant" contenteditable="true">
            <div>الكاتب هنا بيحكي قصة بداية المعالجات الصغيرة (الميكروبروسيسور) من سنة 1974 لما شركة إنتل أطلقت المعالج
                8080، وده كان نقطة تحول في عالم الكمبيوترات الصغيرة، وبما إن الكاتب عنده خبرة تاريخية كونه عاش الفترة
                دي، بيشاركنا ذكرياته وتفاصيل مهمة.</div>
            <div><br></div>
            <div>---</div>
            <div><br></div>
            <div>1. **الـ8080 CPU:**&nbsp;&nbsp;</div>
            <div>&nbsp; &nbsp;في 1974، إنتل قدمت معالج جديد اسمه 8080، وده كان معالج بيشتغل بقدرة 1 ميجاهيرتز، وكان قادر
                يستخدم كمعالج نصوص في الوقت ده. كان بيشتغل بنظام 8 بت، يعني بيعالج 8 بت من المعلومات في المرة الواحدة.
            </div>
            <div><br></div>
            <div>2. **العنوانين وخطوط العنوان (Address Lines):**&nbsp;&nbsp;</div>
            <div>&nbsp; &nbsp;المعالج 8080 كان فيه 16 خط من خطوط العنوان، ودي بتمكنه من الوصول لأماكن كتير في الذاكرة في
                عملية واحدة. عدد خطوط العنوان كان بيحدد مدى ذاكرة المعالج؛ بمعنى إنك تقدر تستخدم المعالج للوصول لعناوين
                ذاكرة بحد أقصى 64 كيلوبايت، ودي كانت سعة كبيرة بالنسبة لوقتها.</div>
            <div><br></div>
            <div>3. **كيفية التعامل مع الذاكرة:**&nbsp;&nbsp;</div>
            <div>&nbsp; &nbsp;النموذج بتاع المعالجة في 8080 كان بسيط جدًا؛ لما تحط عنوان معين (16 بت) في خطوط العنوان،
                بتسترجع القيمة اللي مخزنة في العنوان ده، وكانت كل قيمة مخزنة هي عبارة عن 8 بت.</div>
            <div><br></div>
            <div>4. **النظام التشغيلي CP/M-80:**&nbsp;&nbsp;</div>
            <div>&nbsp; &nbsp;النظام ده كان أشهر نظام تشغيل اشتغل مع 8080. كان موجود في أعلى الذاكرة، بحيث ياخد مساحة
                محدودة ويترك باقي الذاكرة للتطبيقات المؤقتة اللي بنحملها عند الحاجة فقط. لما كان بيقرأ أي برنامج من
                القرص ويشغله، كان بينزل البرنامج في الذاكرة في عنوان منخفض (من بداية الذاكرة)، وعنوان البداية كان 0100H
                (256 بايت من بداية الذاكرة).</div>
            <div><br></div>
            <div>5. **البرنامج الأولي (Program Segment Prefix - PSP):**&nbsp;&nbsp;</div>
            <div>&nbsp; &nbsp;أول 256 بايت في الذاكرة كان بيتسمى PSP، وده كان بيحتوي على بيانات مختلفة، وكمان مكان مؤقت
                للتعامل مع المدخلات والمخرجات الخاصة بالقرص (I/O).</div>
            <div><br></div>
            <div>6. **تطور الـ8086 CPU:**&nbsp;&nbsp;</div>
            <div>&nbsp; &nbsp;لما إنتل صنعت معالج 8086 اللي هو أول معالج 16 بت، كانوا عايزين يسهلوا على الناس ينقلوا
                البرامج القديمة من 8080 إلى 8086، وده اللي بيسموه "التهجير" أو "porting". فإنتل صممت 8086 عشان يحافظ على
                إمكانية معالجة 16 بت، وكمان عشان يقدر يشتغل على ذاكرة أكبر بكتير تصل لـ 1 ميجابايت، لكنه كان يقدر يشتغل
                على جزء معين بذاكرة 64 كيلوبايت زي ما كان 8080 بيعمل، بحيث البرامج القديمة تشتغل بدون مشاكل كبيرة.</div>
        </div>
        <div spellcheck="false" class="chat user">مش المفروض 20 خط عنوان ده يعنون 1048576 مش 16 كيلو ؟</div>
        <div class="chat assistant" contenteditable="true">
            <div>صحيح، ما قلته دقيق!</div><div><br></div><div>**20 خط عنوان** يعني أن المعالج 8086 يستطيع تعيين **1 ميجابايت** من الذاكرة، وهي تساوي بالضبط 1048576 بايت (2^20 = 1,048,576).</div><div><br></div><div>أما عند الحديث عن حدود الذاكرة البالغة 64 كيلوبايت (التي تعادل 16 خط عنوان)، فهذا كان **مخصصًا للبرامج التي تعمل ضمن قطاعات ذاكرة معينة (Segments)**. أي أنه، رغم قدرة المعالج على الوصول إلى 1 ميجابايت من الذاكرة، تُقسم الذاكرة إلى قطاعات (Segments)، كل قطاع بحد أقصى 64 كيلوبايت.</div><div><br></div><div>لذا، استخدم الـ8086 ما يُعرف بـ **نموذج الذاكرة المجزأة (Segmented Memory Model)**، حيث يأخذ كل قطاع عنوانًا من 16 بت، مما يوفر مساحة 64 كيلوبايت لكل قطاع، وتتداخل هذه القطاعات لتشكيل الـ1 ميجابايت كاملة.</div><div><br></div><div>وبالتالي:</div><div>- المعالج لديه فعليًا 1 ميجابايت من الذاكرة يمكن تعيينها،</div><div>- لكن الذاكرة مقسمة إلى قطاعات، كل قطاع يحتوي على 64 كيلوبايت.</div><div><br></div><div>وفعلاً، استخدم **الـ8086** **مسجلات القطاعات (Segment Registers)** كطريقة فعالة للاستفادة من سعة ذاكرته البالغة 1 ميجابايت بشكل منظم. تعمل مسجلات القطاعات كـ"مؤشرات ذاكرة" داخل المعالج وتحدد بداية كل نوع من البيانات أو التعليمات داخل الذاكرة.</div><div><br></div><div>### كيف تعمل مسجلات القطاعات؟</div><div><br></div><div>في الـ8086، يوجد أربعة مسجلات قطاعات رئيسية:</div><div>1. **مسجل قطاع الكود (CS - Code Segment):**&nbsp;&nbsp;</div><div>&nbsp; &nbsp;يحدد بداية الذاكرة التي يوجد بها كود البرنامج، أي تعليمات البرمجة.</div><div><br></div><div>2. **مسجل قطاع البيانات (DS - Data Segment):**&nbsp;&nbsp;</div><div>&nbsp; &nbsp;يحدد بداية الذاكرة التي تحتوي على البيانات التي يستخدمها البرنامج.</div><div><br></div><div>3. **مسجل قطاع المكدس (SS - Stack Segment):**&nbsp;&nbsp;</div><div>&nbsp; &nbsp;يحدد بداية ذاكرة المكدس، وهي مخصصة للبيانات المؤقتة مثل العناوين والقيم المستخدمة أثناء تشغيل البرنامج.</div><div><br></div><div>4. **مسجل قطاع الإضافات (ES - Extra Segment):**&nbsp;&nbsp;</div><div>&nbsp; &nbsp;يوفر مساحة إضافية للبيانات، ويُستخدم بشكل مرن حسب الحاجة.</div><div><br></div><div>### كيف تعمل مسجلات القطاعات مع الـ8080؟</div><div><br></div><div>البرامج التي كانت تعمل على الـ8080، والتي كانت محدودة بـ64 كيلوبايت، يمكنها العمل على الـ8086، الذي يستطيع الوصول إلى 1 ميجابايت من الذاكرة. تمكن مسجلات القطاعات البرنامج من تحديد مواقع أنواع البيانات المختلفة (الكود، البيانات، المكدس، إلخ) في أجزاء محددة من الذاكرة.</div>
        </div>
    </div>
</body>

</html>